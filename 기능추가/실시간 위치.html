<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹¤ì‹œê°„ ìœ„ì¹˜ ê¸°ë°˜ ìµœë‹¨ê²½ë¡œ ì•ˆë‚´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            height: 70vh;
        }

        .control-panel {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 25px;
            overflow-y: auto;
        }

        .map-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
            position: relative;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #555;
            border: 2px solid #e1e5e9;
        }

        .btn-secondary:hover {
            background: #e9ecef;
        }

        .route-info {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .route-info h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .route-step {
            background: white;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
        }

        .route-summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #667eea;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .map-placeholder {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            color: #666;
            font-size: 1.2rem;
        }

        .error {
            background: #ffe6e6;
            color: #cc0000;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #cc0000;
        }

        .success {
            background: #e6ffe6;
            color: #006600;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #006600;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .map-container {
                height: 400px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ—ºï¸ ì‹¤ì‹œê°„ ìµœë‹¨ê²½ë¡œ ì•ˆë‚´</h1>
            <p>í˜„ì¬ ìœ„ì¹˜ì—ì„œ ëª©ì ì§€ê¹Œì§€ì˜ ìµœì  ê²½ë¡œë¥¼ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤</p>
        </div>

        <div class="main-content">
            <div class="control-panel">
                <div class="input-group">
                    <label for="startLocation">ì¶œë°œì§€</label>
                    <input type="text" id="startLocation" placeholder="ì˜ˆ: 4í˜¸ì„  ë‹¹ê³ ê°œì—­" />
                </div>

                <div class="input-group">
                    <label for="endLocation">ë„ì°©ì§€</label>
                    <input type="text" id="endLocation" placeholder="ì˜ˆ: ì½”ì—‘ìŠ¤" />
                </div>

                <div class="button-group">
                    <button class="btn-secondary" onclick="getCurrentLocation()">ğŸ“ í˜„ì¬ ìœ„ì¹˜</button>
                    <button class="btn-primary" onclick="findRoute()">ğŸ” ê²½ë¡œ ì°¾ê¸°</button>
                </div>

                <div id="routeResult"></div>
            </div>

            <div class="map-container">
                <div class="map-placeholder" id="mapArea">
                    ğŸ—ºï¸ ì§€ë„ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤<br>
                    <small>ê²½ë¡œ ê²€ìƒ‰ í›„ ìƒì„¸ ì§€ë„ë¥¼ í™•ì¸í•˜ì„¸ìš”</small>
                </div>
            </div>
        </div>
    </div>

    <script>
        let userLocation = null;
        let routeData = null;

        // í˜„ì¬ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
        function getCurrentLocation() {
            const resultDiv = document.getElementById('routeResult');
            
            if (!navigator.geolocation) {
                showError('ìœ„ì¹˜ ì„œë¹„ìŠ¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤.');
                return;
            }

            resultDiv.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    í˜„ì¬ ìœ„ì¹˜ë¥¼ í™•ì¸í•˜ëŠ” ì¤‘...
                </div>
            `;

            navigator.geolocation.getCurrentPosition(
                function(position) {
                    userLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    
                    // ì—­ì§€ì˜¤ì½”ë”©ìœ¼ë¡œ ì£¼ì†Œ ë³€í™˜ (ì‹œë®¬ë ˆì´ì…˜)
                    const address = `í˜„ì¬ ìœ„ì¹˜ (${userLocation.lat.toFixed(4)}, ${userLocation.lng.toFixed(4)})`;
                    document.getElementById('startLocation').value = address;
                    
                    resultDiv.innerHTML = `
                        <div class="success">
                            ğŸ“ í˜„ì¬ ìœ„ì¹˜ê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤!<br>
                            ìœ„ë„: ${userLocation.lat.toFixed(6)}<br>
                            ê²½ë„: ${userLocation.lng.toFixed(6)}
                        </div>
                    `;
                },
                function(error) {
                    let errorMessage = 'ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
                    switch(error.code) {
                        case error.PERMISSION_DENIED:
                            errorMessage = 'ìœ„ì¹˜ ê¶Œí•œì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ ìœ„ì¹˜ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”.';
                            break;
                        case error.POSITION_UNAVAILABLE:
                            errorMessage = 'ìœ„ì¹˜ ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
                            break;
                        case error.TIMEOUT:
                            errorMessage = 'ìœ„ì¹˜ ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.';
                            break;
                    }
                    showError(errorMessage);
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 60000
                }
            );
        }

        // ê²½ë¡œ ì°¾ê¸° (ì‹œë®¬ë ˆì´ì…˜)
        function findRoute() {
            const startLocation = document.getElementById('startLocation').value;
            const endLocation = document.getElementById('endLocation').value;
            const resultDiv = document.getElementById('routeResult');

            if (!startLocation || !endLocation) {
                showError('ì¶œë°œì§€ì™€ ë„ì°©ì§€ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ë¡œë”© í‘œì‹œ
            resultDiv.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    ìµœì  ê²½ë¡œë¥¼ ê²€ìƒ‰í•˜ëŠ” ì¤‘...
                </div>
            `;

            // ì‹œë®¬ë ˆì´ì…˜ëœ ê²½ë¡œ ë°ì´í„° (ì‹¤ì œë¡œëŠ” API í˜¸ì¶œ)
            setTimeout(() => {
                routeData = generateRouteData(startLocation, endLocation);
                displayRoute(routeData);
                updateMap();
            }, 2000);
        }

        // ì‹œë®¬ë ˆì´ì…˜ëœ ê²½ë¡œ ë°ì´í„° ìƒì„±
        function generateRouteData(start, end) {
            const routes = {
                "ë‹¹ê³ ê°œ-ì½”ì—‘ìŠ¤": {
                    duration: "45ë¶„",
                    distance: "28.5km",
                    cost: "1,470ì›",
                    steps: [
                        "4í˜¸ì„  ë‹¹ê³ ê°œì—­ì—ì„œ ìŠ¹ì°¨",
                        "ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›ì—­ì—ì„œ 2í˜¸ì„ ìœ¼ë¡œ í™˜ìŠ¹",
                        "ì ì‹¤ë‚˜ë£¨ì—­ì—ì„œ í•˜ì°¨",
                        "ë„ë³´ 12ë¶„ (950m) - ì½”ì—‘ìŠ¤ ë„ì°©"
                    ]
                },
                "ê¸°ë³¸": {
                    duration: "32ë¶„",
                    distance: "18.2km", 
                    cost: "1,270ì›",
                    steps: [
                        `${start}ì—ì„œ ì¶œë°œ`,
                        "ìµœì  ê²½ë¡œë¡œ ì´ë™ ì¤‘",
                        "í™˜ìŠ¹ ë˜ëŠ” ì§í–‰",
                        `${end} ë„ì°©`
                    ]
                }
            };

            const key = start.includes("ë‹¹ê³ ê°œ") && end.includes("ì½”ì—‘ìŠ¤") ? "ë‹¹ê³ ê°œ-ì½”ì—‘ìŠ¤" : "ê¸°ë³¸";
            return routes[key];
        }

        // ê²½ë¡œ ê²°ê³¼ í‘œì‹œ
        function displayRoute(route) {
            const resultDiv = document.getElementById('routeResult');
            
            resultDiv.innerHTML = `
                <div class="route-info">
                    <h3>ğŸš‡ ì¶”ì²œ ê²½ë¡œ</h3>
                    <div class="route-summary">
                        <div>
                            <strong>ì†Œìš”ì‹œê°„</strong><br>
                            ${route.duration}
                        </div>
                        <div>
                            <strong>ê±°ë¦¬</strong><br>
                            ${route.distance}
                        </div>
                        <div>
                            <strong>ìš”ê¸ˆ</strong><br>
                            ${route.cost}
                        </div>
                    </div>
                    <h4>ìƒì„¸ ê²½ë¡œ</h4>
                    ${route.steps.map((step, index) => `
                        <div class="route-step">
                            <strong>${index + 1}.</strong> ${step}
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // ì§€ë„ ì—…ë°ì´íŠ¸ (ì‹œë®¬ë ˆì´ì…˜)
        function updateMap() {
            const mapArea = document.getElementById('mapArea');
            mapArea.innerHTML = `
                <div style="padding: 40px; text-align: center; height: 100%; display: flex; flex-direction: column; justify-content: center;">
                    <h3 style="color: #667eea; margin-bottom: 20px;">ğŸ“ ê²½ë¡œ ì§€ë„</h3>
                    <div style="background: linear-gradient(45deg, #667eea, #764ba2); color: white; padding: 30px; border-radius: 10px; margin: 20px 0;">
                        <h4>ê²½ë¡œê°€ í‘œì‹œëœ ì§€ë„</h4>
                        <p style="margin: 10px 0;">ì¶œë°œì§€ â¡ï¸ ë„ì°©ì§€</p>
                        <div style="margin-top: 20px;">
                            <div style="display: inline-block; width: 20px; height: 20px; background: #4CAF50; border-radius: 50%; margin: 0 5px;"></div>
                            <span style="margin: 0 10px;">â”â”â”â”â”</span>
                            <div style="display: inline-block; width: 20px; height: 20px; background: #F44336; border-radius: 50%; margin: 0 5px;"></div>
                        </div>
                    </div>
                    <small style="color: #666;">ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ìƒì„¸í•œ ì§€ë„ê°€ í‘œì‹œë©ë‹ˆë‹¤</small>
                </div>
            `;
        }

        // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
        function showError(message) {
            const resultDiv = document.getElementById('routeResult');
            resultDiv.innerHTML = `
                <div class="error">
                    âš ï¸ ${message}
                </div>
            `;
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        window.addEventListener('load', function() {
            // ì˜ˆì‹œ ë°ì´í„° ìë™ ì…ë ¥
            document.getElementById('startLocation').value = '4í˜¸ì„  ë‹¹ê³ ê°œì—­';
            document.getElementById('endLocation').value = 'ì½”ì—‘ìŠ¤';
        });

        // Enter í‚¤ë¡œ ê²€ìƒ‰
        document.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                findRoute();
            }
        });
    </script>
</body>
</html>